@model MoralCompass.Web.Controllers.ThesisController.ThesisDetailModel
@{
    ViewData["Title"] = Model.Thesis?.Title ?? "–ó–∞–ø–æ–≤–µ–¥—å";
}

<div class="container mt-4">
    <!-- üîπ –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø–æ–≤–µ–¥–∏ -->
    <div class="text-center mb-4">
        <h2>@(Model.Thesis?.Title ?? "‚Äî")</h2>
        <p class="text-muted">@Model.Thesis?.Description</p>

        @if (User.Identity?.IsAuthenticated == true)
        {
            <a href="@Url.Action("CreateTopic", "Thesis", new { thesisId = Model.Thesis?.Id })"
               class="btn btn-sm btn-outline-primary mt-2">
                ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–º—É
            </a>
        }

        <a href="@Url.Action("Index", "Index")" class="btn btn-outline-secondary btn-sm mt-2 ms-2">
            ‚Üê –í—Å–µ –∑–∞–ø–æ–≤–µ–¥–∏
        </a>
    </div>

    <hr />

    <!-- üîπ –°–ø–∏—Å–æ–∫ –¢–û–õ–¨–ö–û —Ç–µ–º -->
    @if (!Model.Topics.Any())
    {
        <div class="text-center text-muted py-5">
            <p>–ü–æ–∫–∞ –Ω–µ—Ç —Ç–µ–º.</p>
            @if (User.Identity?.IsAuthenticated == true)
            {
                <a href="@Url.Action("CreateTopic", "Thesis", new { thesisId = Model.Thesis?.Id })"
                   class="btn btn-sm btn-outline-primary">
                    ‚ûï –°—Ç–∞—Ç—å –ø–µ—Ä–≤—ã–º ‚Üí –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–º—É
                </a>
            }
        </div>
    }
    else
    {
        <div class="list-group">
            @foreach (var topicGroup in Model.Topics)
            {
                <a href="@Url.Action("Details", "Topic", new { id = topicGroup.Topic.Id })"
                   class="list-group-item list-group-item-action">
                    <!-- –ó–∞–≥–ª—É—à–∫–∞: –ø–æ–∫–∞ –Ω–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–µ–º—ã ‚Üí –¥–µ–ª–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π -->
                    <div class="d-flex justify-content-between">
                        <div>
                            <h5 class="mb-1">@topicGroup.Topic.Title</h5>
                            <small class="text-muted">
                                @topicGroup.Topic.Author.Nickname ¬∑ 
                                @topicGroup.Topic.CreatedAt.ToString("dd.MM.yyyy")
                            </small>
                        </div>
                        <!-- üîπ –ü–æ–∑–∂–µ: —Å—é–¥–∞ –ø—Ä–∏–∫—Ä—É—Ç–∏–º ‚Üí -->
                        <!-- <span class="badge bg-secondary">12 –¥–∏–ª–µ–º–º</span> -->
                    </div>
                </a>
            }
        </div>
    }
</div>

<style>
    body { background-color: #fafafa; color: #222; }
    .list-group-item { border-left: 0; border-right: 0; }
    .list-group-item:first-child { border-top: 0; }
    .list-group-item:last-child { border-bottom: 0; }
    .btn-outline-primary { border-color: #555; color: #555; }
    .btn-outline-primary:hover { background-color: #f0f0f0; }
    .text-muted { color: #777 !important; }
</style>