@model MoralCompass.Web.Controllers.ThesisController.ThesisDetailModel
@{
    ViewData["Title"] = Model.Thesis?.Title ?? "–ó–∞–ø–æ–≤–µ–¥—å";
}

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"]</title>
    <link href="~/css/details.css" rel="stylesheet" />
</head>
<body>

    <!-- üîπ –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="nav">
        <a href="@Url.Action("Index", "Confession")" class="nav-link">–ù–µ –º—É–¥–∞–∫ –ª–∏ —è?</a>
        <a href="#" class="nav-link">–ü–æ–∏—Å–∫</a>
        <a href="@Url.Action("Stats", "Index")" class="nav-link">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
    </nav>

    <!-- üî∏ –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ -->
    <header class="thesis-header">
        <h1 class="thesis-title">@Model.Thesis?.Title</h1>
        <p class="thesis-description">@Model.Thesis?.Description</p>

        <div class="thesis-actions">
            @if (User.Identity?.IsAuthenticated == true)
            {
                <a href="@Url.Action("CreateTopic", "Thesis", new { thesisId = Model.Thesis?.Id })"
                   class="btn btn-primary">
                    –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–º—É
                </a>
            }
            <a href="@Url.Action("Index", "Index")" class="btn btn-secondary">
                –í—Å–µ –∑–∞–ø–æ–≤–µ–¥–∏
            </a>
        </div>
    </header>

    <!-- üîπ –°–ø–∏—Å–æ–∫ —Ç–µ–º -->
    <main class="topics-scroll">
        @if (!Model.Topics.Any())
        {
            <div class="empty-state">
                <p>–ü–æ–∫–∞ –Ω–µ—Ç —Ç–µ–º.</p>
                @if (User.Identity?.IsAuthenticated == true)
                {
                    <a href="@Url.Action("CreateTopic", "Thesis", new { thesisId = Model.Thesis?.Id })"
                       class="btn btn-primary mt-2">
                        –°—Ç–∞—Ç—å –ø–µ—Ä–≤—ã–º ‚Üí –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–º—É
                    </a>
                }
            </div>
        }
        else
        {
            @foreach (var topicGroup in Model.Topics)
            {
                <div class="theme-item">
                    <div class="icon">
                        <img src="~/images/favorite.png" alt="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">
                    </div>
                    <p class="theme-title">@topicGroup.Topic.Title</p>
                    <div class="icon">
                        <a href="@Url.Action("Details", "Topic", new { id = topicGroup.Topic.Id })">
                            <img src="~/images/arrow_right.png" alt="‚Üí">
                        </a>
                    </div>
                </div>
            }
        }
    </main>

</body>
</html>